<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Termos e Condições|CodeTech</title>
    <meta name="description" content="Termos e Condições">

    <link rel="preload" href="./css/style.css" as="style">
    <link rel="stylesheet" href="./css/style.css">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">   
</head>

<body>
    <header class="header-bg">
        <div class="header container">
           <a href="./"><img src="./img/logomarca.jpg" width="280" height="110" alt="Codetech"></a> 

            <nav aria-label="primaria">
                
                <ul class="header-menu">
                    <li><a href="./login.html">Login</a></li>
                </ul>
            </nav>
        </div>
        <div class="cadastro-container">
        <form id="registerForm">
            <h2>Cadastro</h2>
            <div class="success-message" id="successMessage">Usuário cadastrado com sucesso!</div>
            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" placeholder="Digite seu e-mail" required>       
            <label for="name">Nome:</label>
            <input type="text" id="name" name="name" placeholder="Nome Completo" required>
            <label for="phone">Telefone:</label>
            <input type="tel" id="phone" name="phone" pattern="\d{11}" placeholder="15985555555" required>
            <label for="password">Senha:</label>
            <input type="password" id="password" name="password" minlength="5" placeholder="Mínimo 5 Caracteres" required>
            <span id="togglePassword" class="toggle-password"></span>
            <input type="submit" value="Cadastrar">
            <button type="button" class="back-button" onclick="window.location.href='index.html'">Voltar Para Tela de Login</button>
        </form>
    
        <script>
            // Adiciona o evento de clique ao ícone de olho
            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('.toggle-password').forEach(function(icon) {
                    icon.addEventListener('click', function() {
                        var input = document.querySelector('#password');
                        if (input.type === 'password') {
                            input.type = 'text';
                            this.classList.add('active');
                        } else {
                            input.type = 'password';
                            this.classList.remove('active');
                        }
                    });
                });
            });
    
            // Evento de envio do formulário
            document.getElementById('registerForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Previne o comportamento padrão do formulário
    
                // Coleta os dados do formulário
                const formData = new FormData(this);
    
                // Converte os dados do formulário para um objeto JSON
                const formDataJson = {};
                formData.forEach((value, key) => formDataJson[key] = value);
    
                // Envia os dados para o MockAPI.io
                fetch('https://662d5880a7dda1fa378a6de6.mockapi.io/codetech/usuarios', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formDataJson)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Erro ao cadastrar usuário');
                    }
                    document.getElementById('successMessage').style.display = 'block'; // Exibe a mensagem de sucesso
                    return response.json();
                })
                .then(data => {
                    console.log('Usuário cadastrado com sucesso:', data);
                    // Aqui você pode redirecionar o usuário ou fazer qualquer outra ação necessária após o cadastro
                })
                .catch(error => {
                    console.error('Erro ao cadastrar usuário:', error);
                });
            });
        </script>
        </div>


        <footer class="footer-bg">
            <div class="footer container">
              <div class="footer-contato">
                <h3 class="font-2-l-b cor-0">Contato</h3>
                <ul class="font-2-m cor-5">
                  <li><a href="tel:+552199999999">+55 21 9999-9999</a></li>
                  <li><a href="mailto:contato@bikcraft.com">contato@codetech.com</a></li>
                  <li>Rua Ali Perto, 1400 - Facens </li>
                  <li>Sorocaba - SP</li>
                </ul>
                <div class="footer-redes">
                  <a href="./">
                    <img src="./img/redes/instagram.svg" alt="Instagram">
                  </a>
                  <a href="./">
                    <img src="./img/redes/facebook.svg" alt="Facebook">
                  </a>
                  <a href="./">
                    <img src="./img/redes/youtube.svg" alt="Youtube">
                  </a>
                </div>
              </div>
              <div class="footer-informacoes">
                <h3 class="font-2-l-b cor-0">Informações</h3>
                <nav>
                  <ul class="font-1-m cor-5">
                    <li><a href="./Energia.html">Energia</a></li>
                    <li><a href="./Residuos.html">Descarte</a></li>
                    <li><a href="./Agenda.html">Agenda de Coleta</a></li>
                    <li><a href="./contato.html">Contato</a></li>  
                    <li><a href="./termos.html">Termos e Condições</a></li>
                  </ul>
                </nav>
              </div>
              <p class="footer-copy font-2-m cor-6">CodeTech © Alguns direitos reservados.</p>
            </div>
          </footer>

        </header>
        </body>
        
        </html>